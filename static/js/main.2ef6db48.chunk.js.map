{"version":3,"sources":["components/LangFilters.js","components/SearchBar.js","components/SearchResult.js","darkMode.js","components/Default.js","img/sun.png","img/moon.png","App.js","reportWebVitals.js","index.js"],"names":["LangFilters","options","changeParameter","data","useState","languages","setLanguages","selected","setSelected","showFilters","setShow","handleChange","e","target","value","useEffect","langArray","code","name","children","forEach","document","language","length","push","sort","a","b","map","type","className","onChange","checked","createOption","filterList","onClick","SearchBar","props","onSubmit","preventDefault","autoComplete","placeholder","SearchResult","href","url","rel","lang","title","author","themes","dark","light","swapMode","theme","body","classList","add","remove","ThemeContext","createContext","changeTheme","ThemeContextWrapper","setTheme","Provider","Default","id","align","fpb","jsonToArray","json","arr","sections","section","includes","entries","entry","subsections","subsection","App","undefined","setData","dataArray","setDataArray","setIndex","loading","setLoading","searchTerm","searchParams","setSearchParams","searchResults","setSearchResults","useCookies","cookies","setCookie","error","resultsList","param","axios","get","result","lightMode","darkMode","fetchData","fuse","Fuse","useExtendedSearch","findAllMatches","shouldSort","includeScore","threshold","keys","andQuery","orQuery","Object","key","$or","search","$and","slice","relevantLists","find","o","item","langCode","isSubject","x","match","replaceAll","toLowerCase","listing","concat","Consumer","willBeDarkMode","src","MoonImg","SunImg","style","width","height","display","marginLeft","alt","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","CookiesProvider","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.2ef6db48.chunk.js","sourcesContent":["import React, { useState, useEffect } from \"react\";\n\nfunction LangFilters({ changeParameter, data }) {\n  const [languages, setLanguages] = useState([]);\n  const [selected, setSelected] = useState(\"\");\n  const [showFilters, setShow] = useState(false);\n  let options = null;\n\n  const handleChange = (e) => {\n    changeParameter(\"lang.code\", e.target.value);\n    setSelected(e.target.value);\n  };\n\n  useEffect(\n    // run whenever data changes\n    () => {\n      if (data) {\n        let langArray = [{ code: \"en\", name: \"English\" }];\n        data.children[0].children.forEach((document) => {\n          if (typeof document.language.name === \"string\" && document.language.name.length > 0) {\n            //make sure the language is valid and not blank\n            //console.log(\"LANGUAGE: \" + document.language.name)\n            if (document.language.code !== \"en\") {\n              // used to ensure only one English is listed\n              langArray.push(document.language);\n            }\n          }\n        });\n        langArray.sort((a, b) => a.name > b.name);\n        setLanguages(langArray);\n      }\n    },\n    [data]\n  );\n\n  const createOption = (language) => {\n    return (\n      <div>\n        <label>\n          <input\n            type=\"radio\"\n            className=\"lang\"\n            key={language.code}\n            value={language.code}\n            onChange={handleChange}\n            checked={language.code == selected}\n          />\n          {language.name}\n        </label>\n      </div>\n    );\n  };\n\n  options =\n    languages &&\n    languages.map((language) => {\n      return createOption(language);\n    });\n\n  let filterList = (\n    <form className=\"filters\">\n      <label>\n        <input type=\"radio\" key=\"all\" className=\"sect-select\" value=\"\" onChange={handleChange} checked={\"\" == selected} />\n        All Languages\n      </label>\n      {options}\n    </form>\n  );\n\n  return (\n    <div className=\"langFilters\">\n      <div className=\"filterHeader\">\n        <h3>Filter by Language</h3>\n        <button onClick={() => setShow(!showFilters)}>{showFilters? \"-\" : \"+\"}</button>\n      </div>\n      {showFilters ? filterList : \"\"}\n    </div>\n  );\n}\n\nexport default LangFilters;\n","import React from \"react\";\n\nfunction SearchBar(props) {\n  const handleChange = (e) => {\n    props.changeParameter(\"searchTerm\", e.target.value);\n  };\n\n  return (\n    <form\n      onSubmit={(e) => {\n        e.preventDefault();\n      }}\n      name=\"searchBar\"\n      className=\"searchbar\"\n    >\n      <input\n        autoComplete=\"off\"\n        type=\"text\"\n        name=\"searchTerm\"\n        placeholder=\"Search Book or Author\"\n        className=\"searchterm\"\n        onChange={handleChange}\n      />\n    </form>\n  );\n}\n\nexport default SearchBar;\n","import React from \"react\";\n\nfunction SearchResult({ data }) {\n  return (\n    <li className=\"result\">\n        <a href={data.url} target=\"_blank\" rel=\"noreferrer\">\n        ({data.lang.code}) {data.title}{data.author ? ` by ${data.author}` : \"\"}\n        </a>\n    </li>\n  );\n}\n\nexport default SearchResult;\n","import React, { useState, useEffect, createContext } from \"react\";\n\n//https://levelup.gitconnected.com/dark-mode-in-react-533faaee3c6e\n\nexport const themes = {\n  dark: \"\",\n  light: \"dark-content\",\n};\n\nexport const swapMode = (theme) => {\n    switch (theme) {\n      case themes.light:\n        document.body.classList.add('dark-content');\n        break;\n      case themes.dark:\n      default:\n        document.body.classList.remove('dark-content');\n        break;\n    }\n  }\n\nexport const ThemeContext = createContext({\n    theme: themes.dark,\n  changeTheme: () => {},\n});\n\nexport default function ThemeContextWrapper(props) {\n  const [theme, setTheme] = useState(props.theme);\n\n  function changeTheme(theme) {\n    setTheme(theme);\n  }\n // console.log(theme)\n  swapMode(theme)\n\n  return (\n    <ThemeContext.Provider value={{ theme: theme, changeTheme: changeTheme }}>\n      {props.children}\n    </ThemeContext.Provider>\n  );\n}","import React from \"react\";\n\nfunction Default() {\n  return (\n    <section>\n      <br />\n\n      <h1 id=\"list-of-free-learning-resources-in-many-languages\">List of Free Learning Resources In Many Languages</h1>\n\n      <div align=\"center\">\n        {/* <p><a href=\"https://github.com/sindresorhus/awesome\"><img src=\"https://cdn.rawgit.com/sindresorhus/awesome/d7305f38d29fed78fa85652e3a63e154dd8e8829/media/badge.svg\" alt=\"Awesome\" /></a> */}\n        {/* <a href=\"https://creativecommons.org/licenses/by/4.0/\"><img src=\"https://img.shields.io/badge/License-CC%20BY%204.0-lightgrey.svg\" alt=\"License: CC BY 4.0\" /></a></p> */}\n      </div>\n\n      <h2 id=\"intro\">Intro</h2>\n\n      <p>\n        This list was originally a clone of{\" \"}\n        <a href=\"https://web.archive.org/web/20140606191453/http://stackoverflow.com/questions/194812/list-of-freely-available-programming-books/392926\">\n          StackOverflow - List of Freely Available Programming Books\n        </a>{\" \"}\n        with contributions from Karan Bhangui and George Stocker.\n      </p>\n\n      <p>\n        The list was moved to GitHub by Victor Felder for collaborative updating and maintenance. It has grown to become\n        one of <a href=\"https://octoverse.github.com/\">GitHub’s most popular repositories</a>, with 221,000+ stars,\n        6,900+ commits, 1,900+ contributors, and 47,100+ forks.\n      </p>\n\n      <p>\n        The <a href=\"https://ebookfoundation.org\">Free Ebook Foundation</a> now administers the repo, a not-for-profit\n        organization devoted to promoting the creation, distribution, archiving, and sustainability of free ebooks.{\" \"}\n        <a href=\"https://ebookfoundation.org/contributions.html\">Donations</a> to the Free Ebook Foundation are\n        tax-deductible in the US.\n      </p>\n\n      <h2 id=\"how-to-contribute\">How To Contribute</h2>\n\n      <p>\n        Please read <a href=\"/free-programming-books/docs/CONTRIBUTING.html\">CONTRIBUTING</a>. If you’re new to GitHub,{\" \"}\n        <a href=\"/free-programming-books/docs/HOWTO.html\">welcome</a>! Remember to abide by our{\" \"}\n        <a href=\"/free-programming-books/docs/CODE_OF_CONDUCT.html\">Code of Conduct</a> too. (\n        <a href=\"/free-programming-books/docs/#translations\">translations</a> also available)\n      </p>\n\n      <h2 id=\"how-to-share\">How to Share</h2>\n\n      <ul>\n        <li>\n          <a href=\"http://twitter.com/intent/tweet?text=https://github.com/EbookFoundation/free-programming-books%0AFree%20Programming%20Books\">\n            Share on Twitter\n          </a>\n        </li>\n        <li>\n          <a href=\"https://www.facebook.com/share.php?u=https%3A%2F%2Fgithub.com%2FEbookFoundation%2Ffree-programming-books&amp;p%5Bimages%5D%5B0%5D=&amp;p%5Btitle%5D=Free%20Programming%20Books&amp;p%5Bsummary%5D=\">\n            Share on Facebook\n          </a>\n        </li>\n        <li>\n          <a href=\"http://www.linkedin.com/shareArticle?mini=true&amp;url=https://github.com/EbookFoundation/free-programming-books&amp;title=Free%20Programming%20Books&amp;summary=&amp;source=\">\n            Share on LinkedIn\n          </a>\n        </li>\n        <li>\n          <a href=\"https://t.me/share/url?url=https://github.com/EbookFoundation/free-programming-books\">\n            Share on Telegram\n          </a>\n        </li>\n      </ul>\n\n      <h2 id=\"translations\">Translations</h2>\n\n      <p>\n        Volunteers have translated many of our Contributing, How-to, and Code of Conduct documents into languages\n        covered by our lists.\n      </p>\n\n      <ul>\n        <li>\n          English\n          <ul>\n            <li>\n              <a href=\"/free-programming-books/docs/CODE_OF_CONDUCT.html\">Code of Conduct</a>\n            </li>\n            <li>\n              <a href=\"/free-programming-books/docs/CONTRIBUTING.html\">Contributing</a>\n            </li>\n            <li>\n              <a href=\"/free-programming-books/docs/HOWTO.html\">How-to</a>\n            </li>\n          </ul>\n        </li>\n        <li>\n          …{\" \"}\n          <em>\n            <a href=\"/free-programming-books/docs/#translations\">More languages</a>\n          </em>{\" \"}\n          …\n        </li>\n      </ul>\n\n      <p>\n        You might notice that there are{\" \"}\n        <a href=\"/free-programming-books/docs/#translations\">some missing translations here</a> - perhaps you would like\n        to help out by{\" \"}\n        <a href=\"/free-programming-books/docs/CONTRIBUTING.html#help-out-by-contributing-a-translation\">\n          contributing a translation\n        </a>\n        ?\n      </p>\n\n      <h2 id=\"license\">License</h2>\n\n      <p>\n        Each file included in this repository is licensed under the{\" \"}\n        <a href=\"/free-programming-books/LICENSE\">CC BY License</a>.\n      </p>\n    </section>\n  );\n}\n\nexport default Default;\n","export default __webpack_public_path__ + \"static/media/sun.4c5a4fb0.png\";","export default __webpack_public_path__ + \"static/media/moon.dd634065.png\";","import React, { useState, useEffect, createContext } from \"react\";\nimport LangFilters from \"./components/LangFilters\";\nimport SectDropdown from \"./components/SectDropdown\";\nimport SearchBar from \"./components/SearchBar\";\nimport SearchResult from \"./components/SearchResult\";\nimport axios from \"axios\";\nimport Fuse from \"fuse.js\";\nimport { ThemeContext, themes, swapMode } from './darkMode';\nimport { useCookies } from 'react-cookie';\n\nimport Default from \"./components/Default\";\n\nimport SunImg from \"./img/sun.png\";\nimport MoonImg from \"./img/moon.png\";\n\nconst fpb = null;\n\n// eslint-disable-next-line\nfunction makeBook(author, hLang, cLang, title, url) {\n  //returns a struct with basic book info (author, human language, computer language, book title, url)\n  return {\n    author: author,\n    hLang: hLang, //human language\n    cLang: cLang, //computer language\n    title: title,\n    url: url,\n  };\n}\n\n// eslint-disable-next-line\nfunction forEachBook(func, json) {\n  //Runs func on each section, entry, and book in json, which is a list of entries\n  if (typeof func !== \"function\") {\n    // eslint-disable-next-line\n    throw \"ERROR in forEachBook: parameter not a fucntion\";\n  }\n\n  for (const hLang in json) {\n    //for each human language\n    if (Array.isArray(hLang.sections)) {\n      //check if sections is an array\n      hLang.sections.forEach(\n        (\n          cLang //for each computer lanuage\n        ) => {\n          if (Array.isArray(cLang.entries)) {\n            //verify is entries is an array\n            cLang.entries.forEach(\n              (\n                book //for each book\n              ) => {\n                if (typeof book === \"object\") {\n                  //verify that book is an object\n                  func(json[hLang], cLang, book); //run the function\n                }\n              }\n            );\n          }\n        }\n      );\n    }\n  }\n}\n\n// Sorts search results by their score\n// eslint-disable-next-line\nfunction sortByScore(results) {\n  results.sort(function (a, b) {\n    return a.score - b.score;\n  });\n  return results;\n}\n\nfunction jsonToArray(json) {\n  let arr = [];\n  let sections = [];\n  json.children[0].children.forEach((document) => {\n    document.sections.forEach((section) => {\n      if (!sections.includes(section.section)) sections.push(section.section);\n      section.entries.forEach((entry) => {\n        arr.push({\n          author: entry.author,\n          title: entry.title,\n          url: entry.url,\n          lang: document.language,\n          section: section.section,\n        });\n      });\n      section.subsections.forEach((subsection) => {\n        subsection.entries.forEach((entry) => {\n          arr.push({\n            author: entry.author,\n            title: entry.title,\n            url: entry.url,\n            lang: document.language,\n            section: section.section,\n            subsection: subsection.section,\n          });\n        });\n      });\n    });\n  });\n  return { arr: arr, sections: sections };\n}\n\nfunction App() {\n  const [data, setData] = useState(undefined); // keeps the state of the json\n  const [dataArray, setDataArray] = useState([]); // put everything into one array. uses more memory, but search is faster and less complex\n  // eslint-disable-next-line\n  const [index, setIndex] = useState([]); // used for \"table of contents\". currently unused\n  const [loading, setLoading] = useState(true); // Determines whether to show spinner\n  const [searchParams, setSearchParams] = useState({ searchTerm: \"\" });\n  const [searchResults, setSearchResults] = useState([]);\n  const [sectionResults, setSectionResults] = useState([]);\nconst [cookies, setCookie, removeCookie] = useCookies(['lightMode']);\n\n  const [lightMode, setLightMode] = useState(true);\n\n  // eslint-disable-next-line\n  const [error, setError] = useState(\"\");\n\n  let resultsList = null; // the html string containing the search results\n  let sectionResultsList = null;\n\n  const changeParameter = (param, value) => {\n    // Lets a child component set the value of the search term\n    setSearchParams({ ...searchParams, [param]: value });\n  };\n\n  // fetches data the first time the page renders\n  useEffect(() => {\n\tswapMode(cookies.lightMode ? themes.lightMode : themes.darkMode)\n    async function fetchData() {\n      try {\n        setLoading(true);\n        let result = await axios.get(\n          \"https://raw.githubusercontent.com/FreeEbookFoundationBot/free-programming-books-json/main/fpb.json\"\n        );\n        setData(result.data);\n        let { arr, sections } = jsonToArray(result.data);\n        setDataArray(arr);\n        setIndex(sections);\n      } catch (e) {\n        // setError(\"Couldn't get data. Please try again later\")\n        setData(fpb);\n        let { arr, sections } = jsonToArray(fpb);\n        setIndex(sections);\n        setDataArray(arr);\n      }\n      setLoading(false);\n    }\n    fetchData();\n  }, []);\n\n  // fires when searchTerm changes\n   // Finds most relevant title or author\n  // THIS IS THE MAIN SEARCH FUNCTION\n  useEffect(() => {\n    if (dataArray) {\n      const fuseOptions = {\n        useExtendedSearch: true, // see fuse.js documentation\n        findAllMatches: true, //continue searching after first match\n        shouldSort: true, // sort by proximity score\n        includeScore: true, // includes score in results\n        threshold: 0.2, // threshold for fuzzy-search,\n        keys: [\"author\", \"title\", \"lang.code\", \"section\"],\n      };\n\n      // create new fuse given the array of books and the fuse options from above\n      let fuse = new Fuse(dataArray, fuseOptions);\n      let andQuery = []; // for filters that MUST be matched, like language\n      let orQuery = []; // filters where any may be matched, like author or title\n\n      // for each search param\n      for (const [key, value] of Object.entries(searchParams)) {\n        if (value === null || value === \"\") continue;\n        if (key === \"lang.code\" || key === \"section\") {\n          // the '^' means it must be an exact match at the beginning\n          // this is because lang.code and section are strict filters \n          andQuery.push({ [key]: `^${value}` });\n        }\n        if(key === \"searchTerm\") {\n          orQuery.push({ \"author\": value});\n          orQuery.push({ \"title\": value});\n        }\n      }\n      // Nest the 'or' query inside the 'and' query\n      // Necessary step, a quirk with fuse.js\n      andQuery.push({$or: orQuery})\n      // Perform the search\n      let result = fuse.search({\n        $and: andQuery,\n      });\n      // filter to top results\n      result = result.slice(0, 40);\n\n      // Goes through the list of results\n      let relevantLists = [];\n      result.forEach((entry) => {\n        // Checks if a new entry has already been made with the given programming language and human language.\n        let obj = relevantLists.find(\n          (o) => o.item.section === entry.item.section && o.item.lang.code === entry.item.lang.code\n        );\n        if (!obj && entry.item.lang.code) {\n          let langCode = entry.item.lang.code;\n          let section = entry.item.subsection ? entry.item.subsection : entry.item.section;\n          // English is split into the subjects and langs file. The parser flags which type of entry it is to use here\n          if (langCode === \"en\") {\n            if (entry.item.lang.isSubject) {\n              langCode = \"subjects\";\n            } else {\n              langCode = \"langs\";\n            }\n          }\n\n          let id = section;\n          \n          // Some ids are in HTML tags, so this will extract that id to form proper links\n          if (id.includes(\"<a\")) {\n            let x = id.match(/\"(.*?)\"/)[0];\n            id = x ? x.replaceAll(/\\\"/g, \"\") : \"FAIL\";\n            section = id;\n          }\n\n          // List of id properties fixed with this line:\n          // 1. Must be all lowercase\n          // 2. Spaces are hyphens\n          // 3. Parentheses, ampersands, and slashes aren't allowed at all\n          id = id\n            .toLowerCase()\n            .replaceAll(\" \", \"-\")\n            .replaceAll(/\\(|\\)|\\&|\\/|\\./g, \"\");\n\n          // Creates a listing for the broader list of entries\n          let listing = {\n            item: {\n              author: \"\",\n              lang: entry.item.lang,\n              section: entry.item.section,\n              title: `List of all ${section} resources in ${entry.item.lang.name}`,\n              url: `https://ebookfoundation.github.io/free-programming-books/books/free-programming-books-${langCode}.html#${id}`,\n            },\n          };\n\n          relevantLists.push(listing);\n        }\n      });\n      // Keep only the first 5 as more than that became cumbersome with broad searches\n      relevantLists = relevantLists.slice(0, 5);\n      result = relevantLists.concat(result);\n      setSearchResults(result);\n      // console.log(result);\n\n      // No longer needed as the sections aren't being used\n      // let sResults = []; // section results\n      // // Finds the most relevant sections\n      // result.forEach((entry) => {\n      //   let section = entry.item.section;\n      //   if (!sResults.includes(section)) sResults.push(section);\n      // });\n      // setSectionResults(sResults);\n    }\n  }, [searchParams, dataArray]);\n\n  if (loading) {\n    // if still fetching resource\n    return <h1>Loading...</h1>;\n  }\n  if (error) {\n    return <h1>Error: {error}</h1>;\n  }\n  if (searchParams.searchTerm && searchResults.length !== 0) {\n    resultsList =\n      searchResults &&\n      searchResults.map((entry) => {\n        return <SearchResult data={entry.item} />;\n      });\n    // Getting rid of the section results UI renders this irrelevant\n    // sectionResultsList =\n    //   sectionResults &&\n    //   sectionResults.map((section) => {\n    //     return (\n    //       <button\n    //         onClick={() => {\n    //           changeParameter(\"section\", section);\n    //         }}\n    //       >\n    //         {section}\n    //       </button>\n    //     );\n    //   });\n  }\n  return (\n\n    <div\n      className=\"wrapper\"\n      // style={{\n      //   color: lightMode ? \"black\" : \"white\",\n      //   backgroundColor: lightMode ? \"white\" : \"black\",\n      // }}\n    >\n  \t\t<ThemeContext.Consumer>\n\t\t{ ({ changeTheme }) => {\n\t\t\tlet willBeDarkMode = (cookies.lightMode && cookies.lightMode.toLowerCase() !== \"true\") //whether or not we are currently light mode and will become dark mode\n\t\t\tchangeTheme(willBeDarkMode ? themes.light : themes.dark)\n\t\t\treturn (<img src={willBeDarkMode ? MoonImg : SunImg}\n\t\t\tonClick = {()=>{\n\t\t\t\t\t\t\tsetCookie(\"lightMode\",willBeDarkMode);\n\t\t\t\t\t\t\tchangeTheme(willBeDarkMode ? themes.light : themes.dark)\n\t\t\t\t\t\t\t}} \n\t\t\t\t\t\t\tstyle={{width: \"20px\", height: \"20px\",display: \"block\",\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t  marginLeft: \"auto\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t  }}\n\t\t/>)}\n\t\t}\n\t\t</ThemeContext.Consumer>\n      <header className=\"header\">\n\n        <h1>\n          <a href=\"https://ebookfoundation.github.io/free-programming-books/\" target=\"_blank\" rel=\"noreferrer\">\n            free-programming-books\n          </a>\n        </h1>\n\n        <p>\n          <img\n            className=\"emoji\"\n            title=\":books:\"\n            alt=\":books:\"\n            src=\"https://github.githubassets.com/images/icons/emoji/unicode/1f4da.png\"\n            height=\"20\"\n            width=\"20\"\n          />{\" \"}\n          Freely available programming books\n        </p>\n\n        <p className=\"view\">\n          <a href=\"https://github.com/EbookFoundation/free-programming-books\" target=\"_blank\" rel=\"noreferrer\">\n            View the Project on GitHub <small>EbookFoundation/free-programming-books</small>\n          </a>\n        </p>\n        <p>\n          Does a link not work?\n          <br />\n          <a href=\"https://github.com/EbookFoundation/free-programming-books/issues/\" target=\"_blank\" rel=\"noreferrer\">\n            Report an error on GitHub\n          </a>\n        </p>\n\n        <div>\n          <SearchBar changeParameter={changeParameter} />\n          {/* Filters */}\n          <LangFilters changeParameter={changeParameter} data={data} />\n          {/* Keeping sections commented out just in case */}\n          {/* <SectDropdown\n            className=\"sect-drop\"\n            changeParameter={changeParameter}\n            data={data}\n            value={searchParams[\"section\"] || \"allSects\"}\n          /> */}\n          {/* {sectionResultsList && <h3>Suggestions based on your search</h3>}\n          <div className=\"search-results section-results\">{sectionResultsList}</div> */}\n        </div>\n      </header>\n\n      <section className=\"search-results\">\n        {resultsList ? (\n          <div>\n            <br />\n            <h2>Search Results</h2>\n            <ul>{resultsList}</ul>\n          </div>\n        ) : searchParams.searchTerm ? (\n          <div>\n            <br />\n            <h2>No results found.</h2>\n          </div>\n        ) : (\n          <Default />\n        )}\n      </section>\n\n      <footer>\n        <p>\n          This project is maintained by{\" \"}\n          <a href=\"https://github.com/EbookFoundation\" target=\"_blank\" rel=\"noreferrer\">\n            EbookFoundation\n          </a>\n        </p>\n        <p>\n          <small>\n            Hosted on GitHub Pages — Theme by{\" \"}\n            <a href=\"https://github.com/orderedlist\" target=\"_blank\" rel=\"noreferrer\">\n              orderedlist\n            </a>\n          </small>\n        </p>\n      </footer>\n    </div>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './App.css';\nimport App from './App';\nimport ThemeContextWrapper from './darkMode';\nimport reportWebVitals from './reportWebVitals';\nimport { CookiesProvider } from 'react-cookie';\n\nReactDOM.render(\n<CookiesProvider>\n\t<ThemeContextWrapper>\n\t  <React.StrictMode>\n\t\t<App />\n\t  </React.StrictMode>\n\t</ThemeContextWrapper>\n</CookiesProvider>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}